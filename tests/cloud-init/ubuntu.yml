#cloud-config

# Core packages for Ubuntu
core-packages: &core-packages
  - apparmor-profiles
  - auditd
  - build-essential
  - config-package-dev
  - debhelper
  - devscripts
  - golang-go
  - htop
  - qemu-guest-agent
  - rsync
  - vim

desktop-packages: &desktop-packages
  # Core packages for Ubuntu
  - apparmor-profiles
  - auditd
  - build-essential
  - config-package-dev
  - debhelper
  - devscripts
  - golang-go
  - htop
  - qemu-guest-agent
  - rsync
  - vim

  # Desktop packages for Ubuntu
  - spice-vdagent
  - terminator
  - ubuntu-desktop

kubuntu-packages: &kubuntu-packages
  # Core packages for Ubuntu
  - apparmor-profiles
  - auditd
  - build-essential
  - config-package-dev
  - debhelper
  - devscripts
  - golang-go
  - htop
  - qemu-guest-agent
  - rsync
  - vim

  # Desktop packages for Ubuntu
  - spice-vdagent
  - terminator
  - kubuntu-desktop

desktop-runcmd: &desktop-runcmd
  # Add missing snap packages
  - snap install snap-store
  - snap install snapd-desktop-integration
  - snap install --edge desktop-security-center

  # Remove default filesystem and related tools not used with the suggested
  # storage layout. These may yet be required if different partitioning schemes
  # are used.
  - apt-get -y purge btrfs-progs xfsprogs

  # Remove other packages present by default in Ubuntu Server but not
  # normally present in Ubuntu Desktop.
  - >-
    apt-get -y purge
      byobu dmeventd finalrd gawk kpartx landscape-common lxd-agent-loader
      mdadm motd-news-config ncurses-term open-iscsi open-vm-tools
      screen sg3-utils sosreport ssh-import-id sssd tmux

  # Finally, remove things only installed as dependencies of other things
  # we have already removed.
  - apt-get -y autoremove
